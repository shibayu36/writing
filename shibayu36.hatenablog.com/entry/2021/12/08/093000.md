---
Title: マイクロサービス化や大規模リファクタリングの手順を学ぶ - モノリスからマイクロサービスへを読んだ
Category:
- tech
Date: 2021-12-08T09:30:00+09:00
URL: https://blog.shibayu36.org/entry/2021/12/08/093000
EditURL: https://blog.hatena.ne.jp/shiba_yu36/shibayu36.hatenablog.com/atom/entry/13574176438040487254
---

本当に最高の本でした。マイクロサービス化に取り組んでなかったとしても、規模が一定以上大きいプログラムのリファクタリング手法としても勉強になるので、みんな読みましょう！少なくともマイクロサービス化をしていきたいと思っていて、この本を読んでないならば、まずは一旦手を止めて関係する人全員でこの本を読んでから再度手を動かす、くらいでも良いレベルと感じました。

[asin:4873119316:detail]

この本を読んでいると、マイクロサービス化をしたいときは、必ず以下の手順でやっていくべきと感じました。

1. 目的を明確にする
    * 達成したいことは何か？事業が達成しようとしていることにあった一連の成果が目的でなければならない。これは、システムのエンドユーザーへのメリットを説明する方法で明確にできる
2. その目的を達成するために、なぜマイクロサービス化でなければならないのか明確にする
    * マイクロサービスの他に代替案はなかったか？マイクロサービスの利点は別の方法でも実現できることが多い。そのような方法は検討したか？そうでない場合、それはどうしてか？
3. 目的の優先度を決める
    * マイクロサービス化を行う時は、核となる目的と、二次的な利益を切り離して置けると良い
    * 本当に大事なステップと感じた。目的の優先度を決めておかないと、全部やろうとしてスコープが広すぎて終わらないだったり、二次的な目的が優先されすぎて（二次的な目的の例としてはエンジニア採用しやすいプログラミング言語を使いたいなど）本当に達成したかった目的があまり達成できなかったり、などということが容易に起こってしまう
4. 段階的なアプローチを取れる設計を考える。切り戻しができるパターンを採用する
    * どういうパターンが良いかは、この書籍のパターンリストを参考にすると良い
5. 継続的にリリースしながら、少しずつ実装を進める
6. マイクロサービス化を実施中に、定期的に振り返る
    * 何を達成したいと期待しているかの再確認。ビジネスの方向性が変わって、方向性が意味をなさなくなったならその時点でやめよう
    * 導入している定量的な手段を確認し、進歩しているかどうかを確認
    * 定性的なフィードバックを求める。みんなは物事がまだうまくいっていると思っているか
    * もし何かあるなら、今後変えていくことを決める

他にも、モノリスとは何でどういう問題があるのか、マイクロサービス化以外の選択肢はどのようなものがあるか、マイクロサービス化のよくあるメリットデメリットは何か、マイクロサービス移行の設計パターンは何か、マイクロサービス化をやっていく上で組織としてどういう問題が起こりそうか、なども教えてくれるので非常にためになりました。買いましょう。

