---
Title: clusterで推しアバター展示ワールド作る制作日記その3
Category:
- tech
- cluster
Date: 2024-11-03T23:16:16+09:00
URL: https://blog.shibayu36.org/entry/2024/11/03/231616
EditURL: https://blog.hatena.ne.jp/shiba_yu36/shibayu36.hatenablog.com/atom/entry/6802418398301216810
---

今回も進捗状況と学びを共有する。

- [1回目](https://blog.shibayu36.org/entry/2024/10/26/131924)
- [2回目](https://blog.shibayu36.org/entry/2024/10/30/080609)

### 現在の様子
8展示分の写真と紹介テキストの設置を終えた。
[f:id:shiba_yu36:20241103221651p:plain]
[f:id:shiba_yu36:20241103221702p:plain]

### 親子関係を使って位置設定を行うときは中心となるオブジェクトを0にしておく
展示セットとして、ディスプレイアバター・写真・テキストの3点セットで配置したかった。そのため、それら3つを一つの親の中に配置して、ローカル座標を入れておけば良いと考えた。しかし、なぜかそのやり方でうまく配置ができなかった。うまくいかなかった理由は「Create Emptyで作ったオブジェクトの位置と、実際に中央に配置したいものの位置がずれていた」ためだった。

そこでまず親子関係を作る時は、中心として使いたい子のオブジェクトのPositionを最初に(0,0,0)にしておくと良いことを学んだ。たとえば今回だとディスプレイアバターを中心としたいため、そのオブジェクトを(0,0,0)にしておく。

[f:id:shiba_yu36:20241103223738p:plain]

あとは写真やテキストをいい感じの位置に配置した後、それらをPrefabにしておけば他の商品も同じように配置しやすくなり便利だった。

### コンポーネントのコピー&ペースト
コンポーネントはコピー&ペーストができることに気づいて超便利となった。特にTransformはローカルなPositionもワールド基準のPositionもコピーできて便利。
[f:id:shiba_yu36:20241103225006p:plain:h300]

### 位置関係の整理
ギズモで頑張る、数字を頑張って入れる以外にもいろんな整理方法があるらしい。どこかのタイミングで数式をうまく使う方法も取り入れたい。特にL()関数を使うと整列をうまくできそう。

- [数式をつかってオブジェクト配置を効率化しよう！](https://creator.cluster.mu/2022/08/22/unity_inspector/)
- [Unity 2021.2で強化されたインスペクターの数式機能や、複数要素選択時の線形配置機能について](https://qiita.com/RyotaMurohoshi/items/fa777dfd50254a3a88cf)

### Mesh Collider
[RPG Poly Pack - Lite](https://assetstore.unity.com/packages/3d/environments/landscapes/rpg-poly-pack-lite-148410)を使っていて、地面のコライダーにBox Colliderを用いていたのだが、アバターが地面に埋まる感じになっていて微妙だった。

そういう時はMesh Colliderを使ったら良いようだ。Meshの形に沿ってコライダーをつけてくれる。ただし場合によっては重くなるケースがあるみたいなので注意が必要とのこと。いろんなオプションがあるみたいだけど詳しくは調べられていない。
